(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{86:function(e,t,n){},96:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(26),r=n.n(a),s=n(18),o=(n(86),n(6)),i=n(9),l=n.n(i),u=n(16),j=n(5),b="https://api.unsplash.com/";var h,O=function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n={method:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET"};return t&&(n.body=JSON.stringify(t),n.headers={"Content-Type":"application/json; charset=UTF-8"}),fetch(b+e,n).then((function(e){if(!e.ok)throw new Error;return e.json()}))}(e)},m="bcDhzcaEEYWmOiZeRwb9uGdH6A030heChfgIr16bQFI",d="photos?client_id=".concat(m),p="search/photos?&client_id=".concat(m),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return O("".concat(d,"&page=").concat(e))},g=function(e,t){return O("".concat(p,"&query=").concat(e,"&page=").concat(t))};!function(e){e.UNABLE_SEARCH="Unable to search images",e.UNABLE_LOAD="Unable to load images",e.UNABLE_LOAD_ONE="Unable to load one images"}(h||(h={}));var f=n(1),v=function(){var e=Object(o.m)().pathname,t=Object(c.useState)(null),n=Object(j.a)(t,2),a=n[0],r=n[1],i=function(){var t=Object(u.a)(l.a.mark((function t(){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O("".concat(e,"/?client_id=").concat(m));case 3:n=t.sent,r(n),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(h.UNABLE_LOAD_ONE);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){i()}),[]),a&&a.urls?Object(f.jsxs)("div",{className:"modal",children:[Object(f.jsxs)("div",{className:"modal__content",children:[Object(f.jsxs)("div",{className:"modal__user",children:[Object(f.jsx)("img",{src:a.user.profile_image.medium,alt:a.user.name,className:"modal__user-img"}),Object(f.jsx)("div",{children:a.user.name})]}),Object(f.jsxs)("div",{className:"modal__info",children:[Object(f.jsx)("div",{children:"Downloads: ".concat(a.downloads)}),Object(f.jsx)("div",{children:"Likes: ".concat(a.likes)}),Object(f.jsx)("div",{children:"Views: ".concat(a.views)})]})]}),Object(f.jsx)("img",{src:a.urls.regular,alt:a.alt_description,className:"modal__image"}),Object(f.jsx)("div",{className:"modal__tags",children:a.tags.slice(0,5).map((function(e){return Object(f.jsx)(s.b,{to:"/collection/".concat(e.title),className:"modal__tag-link",children:e.title},e.title)}))})]}):null},_=function(e){var t=e.query,n=e.onSearch;return Object(f.jsx)("input",{type:"text",name:"search",className:"search__input",placeholder:"Search high-resolution images",value:t,onChange:function(e){return n(e.target.value)},required:!0,title:"Search Unsplash"})};function w(e,t){var n=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(j.a)(e,2),c=t[0],a=t[1];null===a?n.delete(c):Array.isArray(a)?(n.delete(c),a.forEach((function(e){n.append(c,e)}))):n.set(c,a)})),n.toString()}var N=Object(c.memo)((function(){return Object(f.jsx)("svg",{version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",children:Object(f.jsxs)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"#000000",stroke:"none",children:[Object(f.jsx)("path",{d:"M1812 3948 l3 -533 745 0 745 0 3 533 2 532 -750 0 -750 0 2 -532z"}),Object(f.jsx)("path",{d:"M640 1705 l0 -1065 1920 0 1920 0 0 1065 0 1065 -585 0 -585 0 0\n-530 0 -530 -750 0 -750 0 0 530 0 530 -585 0 -585 0 0 -1065z"})]})})})),C=Object(c.memo)((function(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(s.c)(),i=Object(j.a)(r,2),b=i[0],h=i[1],O=Object(o.o)(),m=b.get("query")||"",d=b.get("page")||"1",p=function(){var e=Object(u.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,g(m,Number(d));case 4:m!==n&&h(w(b,{query:n||null})),O("/search?query=".concat(n)),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Unable to Search Images");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return function(){w(b,{query:null})}}),[b]),Object(f.jsx)("div",{className:"search",children:Object(f.jsxs)("form",{className:"search__form",onSubmit:p,children:[Object(f.jsx)(s.b,{to:"/",className:"logo",children:Object(f.jsx)(N,{})}),Object(f.jsx)(_,{query:n,onSearch:a}),Object(f.jsx)("button",{type:"submit",className:"search__button",title:"Search",children:"Search"})]})})})),E=n(70),y=Object(c.memo)((function(e){var t=e.image;return Object(f.jsx)("div",{className:"gallery__image-container",children:Object(f.jsx)(s.b,{to:"/photos/".concat(t.id),className:"gallery__image-link",children:Object(f.jsx)("img",{src:t.urls.small,alt:t.alt_description},t.id)})})})),S=n(72),k=n.n(S),A=Object(c.memo)((function(){for(var e=Object(s.c)(),t=Object(j.a)(e,1)[0],n=Number(t.get("page"))||1,c=Math.ceil(10),a=[],r=1;r<=c;r++)a.push(r);var o=n<=2?a.slice(0,4):a.slice(n-2,n+2);return(o=n>=a.length-2?a.slice(a.length-4,a.length):o).length<4&&(o=a.slice(0)),Object(f.jsxs)("div",{className:"pagination",children:[Object(f.jsx)(s.b,{className:"pagination__button-prev pagination__button",to:{search:w(t,{page:(n-1).toString()})},onClick:function(){return window.scrollTo(0,0)}}),o.map((function(e){return Object(f.jsx)(s.b,{className:k()("pagination__button",{"is-active":n===e}),to:{search:w(t,{page:n.toString()})},onClick:function(){return window.scrollTo(0,0)},children:e},e)})),Object(f.jsx)(s.b,{className:"pagination__button-next pagination__button",to:{search:w(t,{page:(n+1).toString()})},onClick:function(){return window.scrollTo(0,0)}})]})})),U=n(136),L=n(137),q=function(e){var t=e.columnsCount,n=e.onChangeColumnsCount;return Object(f.jsx)("div",{className:"gallery__dropdown",children:Object(f.jsxs)(U.a,{sx:{bgcolor:"white",width:176,height:40,padding:2},variant:"standard",value:t,onChange:function(e){return n(+e.target.value)},MenuProps:{PaperProps:{sx:{bgcolor:"#fff"}}},children:[Object(f.jsx)(L.a,{value:3,children:"3 Columns"}),Object(f.jsx)(L.a,{value:5,children:"5 Columns"})]})})},B=function(e){var t=e.images,n=e.columnsCount,a=e.onChangeColumn,r=Object(c.useMemo)((function(){return{350:1,500:2,900:n}}),[n]);return Object(f.jsx)("div",{className:"container",children:Object(f.jsxs)("section",{className:"gallery",children:[Object(f.jsx)(q,{columnsCount:n,onChangeColumnsCount:a}),Object(f.jsx)(E.a,{columnsCountBreakPoints:r,className:"gallery__container",children:Object(f.jsx)(E.b,{gutter:"20px",children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(y,{image:e},e.id)}))})}),Object(f.jsx)(A,{})]})})},D=function(){var e=Object(s.c)(),t=Object(j.a)(e,1)[0],n=t.get("query")||"",a=t.get("page")||"1",r=Object(c.useState)(null),o=Object(j.a)(r,2),i=o[0],b=o[1],O=Object(c.useState)(3),m=Object(j.a)(O,2),d=m[0],p=m[1],x=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(n,+a);case 3:t=e.sent,b(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(h.UNABLE_SEARCH);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){t.set("page","1")}),[n]),Object(c.useEffect)((function(){x()}),[n,a]),i?Object(f.jsxs)("section",{className:"searching-page",children:[Object(f.jsx)(C,{}),Object(f.jsx)(B,{images:i.results,columnsCount:d,onChangeColumn:p})]}):null},M=Object(c.memo)((function(){return Object(f.jsx)("header",{className:"header",children:Object(f.jsx)("div",{className:"header__content",children:Object(f.jsx)(C,{})})})}));M.displayName="Header";var F=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(3),o=Object(j.a)(r,2),i=o[0],b=o[1],O=Object(s.c)(),m=Object(j.a)(O,1)[0].get("page")||"1",d=function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(+m);case 3:t=e.sent,a(t),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(h.UNABLE_LOAD);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){d()}),[m]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(M,{}),Object(f.jsx)(B,{images:n,columnsCount:i,onChangeColumn:b})]})},P=function(){var e=Object(o.m)().pathname,t=Object(s.c)(),n=Object(j.a)(t,1)[0],a=n.get("query")||"",r=n.get("page")||"1",i=Object(c.useState)(null),b=Object(j.a)(i,2),O=b[0],m=b[1],d=Object(c.useState)(3),p=Object(j.a)(d,2),x=p[0],v=p[1],_=function(){var t=Object(u.a)(l.a.mark((function t(){var n,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.split("/").pop()||"",t.next=4,g(n,+r);case 4:c=t.sent,m(c),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),new Error(h.UNABLE_SEARCH);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)((function(){n.set("page","1")}),[a]),Object(c.useEffect)((function(){_()}),[a,r]),O?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("h1",{children:"Collection"}),Object(f.jsx)(B,{images:O.results,columnsCount:x,onChangeColumn:v})]}):null},R=function(){return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(o.d,{children:[Object(f.jsx)(o.b,{path:"/home",element:Object(f.jsx)(o.a,{to:"/",replace:!0})}),Object(f.jsx)(o.b,{path:"/",element:Object(f.jsx)(F,{})}),Object(f.jsxs)(o.b,{path:"/photos",children:[Object(f.jsx)(o.b,{index:!0,element:Object(f.jsx)(F,{})}),Object(f.jsx)(o.b,{path:":id",element:Object(f.jsx)(v,{})})]}),Object(f.jsx)(o.b,{path:"/collection",element:Object(f.jsx)(P,{}),children:Object(f.jsx)(o.b,{path:":tag",element:Object(f.jsx)(P,{})})}),Object(f.jsx)(o.b,{path:"/search",element:Object(f.jsx)(D,{}),children:Object(f.jsx)(o.b,{index:!0,element:Object(f.jsx)(D,{})})}),Object(f.jsx)(o.b,{path:"*",element:Object(f.jsx)("h1",{children:"Page not Fount"})})]})})};r.a.render(Object(f.jsx)(s.a,{children:Object(f.jsx)(R,{})}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.8b8a8156.chunk.js.map